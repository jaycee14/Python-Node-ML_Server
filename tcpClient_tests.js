var net = require('net');

var HOST = '127.0.0.1';
var PORT = 13373;

var FFDate = {'code': 2,
    'data': {'_id': '53cc38f7192301c64423b03b',
        'downloadDate': '2014-07-20T21:47:35.745Z',
        'fcSiteID': '99139',
        'forecasts': [{'fcDate': '2014-7-20Z',
                       'forecasts': [{'fcAbHumidity': 13.004345010830201,
                                      'fcDate': '2014-7-20Z',
                                      'fcDateTime': '2014-07-20T18:00:00.000Z',
                                      'fcDewPoint': 15.545997471306304,
                                      'fcHumidity': '71',
                                      'fcRainPC': '36',
                                      'fcTemp': '21',
                                      'fcTempFeel': '19',
                                      'fcTime': '1080',
                                      'fcWindSpeed': '9'},
                                      {'fcAbHumidity': 13.359204877847288,
                                      'fcDate': '2014-7-20Z',
                                      'fcDateTime': '2014-07-20T21:00:00.000Z',
                                      'fcDewPoint': 15.859854983206224,
                                      'fcHumidity': '82',
                                      'fcRainPC': '33',
                                      'fcTemp': '19',
                                      'fcTempFeel': '20',
                                      'fcTime': '1260',
                                      'fcWindSpeed': '2'},
                                      {'fcAbHumidity': 11.669373000007692,
                                      'fcDate': '2014-7-20Z',
                                      'fcDateTime': '2014-07-20T23:59:00.000Z',
                                      'fcDewPoint': 13.709911054708991,
                                      'fcHumidity': '76',
                                      'fcRainPC': '2',
                                      'fcTemp': '18',
                                      'fcTempFeel': '17',
                                      'fcTime': '1439',
                                      'fcWindSpeed': '9'}]},
                       {'fcDate': '2014-7-21Z',
                       'forecasts': [{'fcAbHumidity': 12.294649516408683,
                                      'fcDate': '2014-7-21Z',
                                      'fcDateTime': '2014-07-21T06:00:00.000Z',
                                      'fcDewPoint': 14.461766869477534,
                                      'fcHumidity': '85',
                                      'fcRainPC': '1',
                                      'fcTemp': '17',
                                      'fcTempFeel': '16',
                                      'fcTime': '360',
                                      'fcWindSpeed': '7'},
                                      {'fcAbHumidity': 12.958636863221368,
                                      'fcDate': '2014-7-21Z',
                                      'fcDateTime': '2014-07-21T09:00:00.000Z',
                                      'fcDewPoint': 15.438016397229585,
                                      'fcHumidity': '75',
                                      'fcRainPC': '4',
                                      'fcTemp': '20',
                                      'fcTempFeel': '20',
                                      'fcTime': '540',
                                      'fcWindSpeed': '7'},
                                      {'fcAbHumidity': 12.743753956800251,
                                      'fcDate': '2014-7-21Z',
                                      'fcDateTime': '2014-07-21T12:00:00.000Z',
                                      'fcDewPoint': 15.336149029376083,
                                      'fcHumidity': '62',
                                      'fcRainPC': '4',
                                      'fcTemp': '23',
                                      'fcTempFeel': '22',
                                      'fcTime': '720',
                                      'fcWindSpeed': '9'},
                                      {'fcAbHumidity': 11.97331883681371,
                                      'fcDate': '2014-7-21Z',
                                      'fcDateTime': '2014-07-21T15:00:00.000Z',
                                      'fcDewPoint': 14.472829481130772,
                                      'fcHumidity': '52',
                                      'fcRainPC': '7',
                                      'fcTemp': '25',
                                      'fcTempFeel': '23',
                                      'fcTime': '900',
                                      'fcWindSpeed': '11'},
                                      {'fcAbHumidity': 11.304943026193772,
                                      'fcDate': '2014-7-21Z',
                                      'fcDateTime': '2014-07-21T18:00:00.000Z',
                                      'fcDewPoint': 13.484081555195527,
                                      'fcHumidity': '55',
                                      'fcRainPC': '5',
                                      'fcTemp': '23',
                                      'fcTempFeel': '22',
                                      'fcTime': '1080',
                                      'fcWindSpeed': '9'},
                                      {'fcAbHumidity': 10.539691315420045,
                                      'fcDate': '2014-7-21Z',
                                      'fcDateTime': '2014-07-21T21:00:00.000Z',
                                      'fcDewPoint': 12.257852173079629,
                                      'fcHumidity': '61',
                                      'fcRainPC': '3',
                                      'fcTemp': '20',
                                      'fcTempFeel': '20',
                                      'fcTime': '1260',
                                      'fcWindSpeed': '7'},
                                      {'fcAbHumidity': 11.208739855270547,
                                      'fcDate': '2014-7-21Z',
                                      'fcDateTime': '2014-07-21T23:59:00.000Z',
                                      'fcDewPoint': 13.09215184157174,
                                      'fcHumidity': '73',
                                      'fcRainPC': '1',
                                      'fcTemp': '18',
                                      'fcTempFeel': '18',
                                      'fcTime': '1439',
                                      'fcWindSpeed': '7'}]},
                       {'fcDate': '2014-7-22Z',
                       'forecasts': [{'fcAbHumidity': 11.576391225796234,
                                      'fcDate': '2014-7-22Z',
                                      'fcDateTime': '2014-07-22T06:00:00.000Z',
                                      'fcDewPoint': 13.481122644469762,
                                      'fcHumidity': '85',
                                      'fcRainPC': '1',
                                      'fcTemp': '16',
                                      'fcTempFeel': '15',
                                      'fcTime': '360',
                                      'fcWindSpeed': '7'},
                                      {'fcAbHumidity': 12.613073213535465,
                                      'fcDate': '2014-7-22Z',
                                      'fcDateTime': '2014-07-22T09:00:00.000Z',
                                      'fcDewPoint': 15.017507706067404,
                                      'fcHumidity': '73',
                                      'fcRainPC': '1',
                                      'fcTemp': '20',
                                      'fcTempFeel': '19',
                                      'fcTime': '540',
                                      'fcWindSpeed': '9'},
                                      {'fcAbHumidity': 12.18545183559548,
                                      'fcDate': '2014-7-22Z',
                                      'fcDateTime': '2014-07-22T12:00:00.000Z',
                                      'fcDewPoint': 14.692687955727886,
                                      'fcHumidity': '56',
                                      'fcRainPC': '0',
                                      'fcTemp': '24',
                                      'fcTempFeel': '23',
                                      'fcTime': '720',
                                      'fcWindSpeed': '9'},
                                      {'fcAbHumidity': 11.28255044238215,
                                      'fcDate': '2014-7-22Z',
                                      'fcDateTime': '2014-07-22T15:00:00.000Z',
                                      'fcDewPoint': 13.556977066692419,
                                      'fcHumidity': '49',
                                      'fcRainPC': '0',
                                      'fcTemp': '25',
                                      'fcTempFeel': '24',
                                      'fcTime': '900',
                                      'fcWindSpeed': '9'},
                                      {'fcAbHumidity': 11.097465064560168,
                                      'fcDate': '2014-7-22Z',
                                      'fcDateTime': '2014-07-22T18:00:00.000Z',
                                      'fcDewPoint': 13.251719695783681,
                                      'fcHumidity': '51',
                                      'fcRainPC': '0',
                                      'fcTemp': '24',
                                      'fcTempFeel': '22',
                                      'fcTime': '1080',
                                      'fcWindSpeed': '11'},
                                      {'fcAbHumidity': 10.194127665734143,
                                      'fcDate': '2014-7-22Z',
                                      'fcDateTime': '2014-07-22T21:00:00.000Z',
                                      'fcDewPoint': 11.752048870804478,
                                      'fcHumidity': '59',
                                      'fcRainPC': '1',
                                      'fcTemp': '20',
                                      'fcTempFeel': '18',
                                      'fcTime': '1260',
                                      'fcWindSpeed': '9'},
                                      {'fcAbHumidity': 10.901651092112449,
                                      'fcDate': '2014-7-22Z',
                                      'fcDateTime': '2014-07-22T23:59:00.000Z',
                                      'fcDewPoint': 12.66776904855196,
                                      'fcHumidity': '71',
                                      'fcRainPC': '0',
                                      'fcTemp': '18',
                                      'fcTempFeel': '16',
                                      'fcTime': '1439',
                                      'fcWindSpeed': '9'}]},
                       {'fcDate': '2014-7-23Z',
                       'forecasts': [{'fcAbHumidity': 11.848776901697322,
                                      'fcDate': '2014-7-23Z',
                                      'fcDateTime': '2014-07-23T06:00:00.000Z',
                                      'fcDewPoint': 13.838577929559229,
                                      'fcHumidity': '87',
                                      'fcRainPC': '2',
                                      'fcTemp': '16',
                                      'fcTempFeel': '15',
                                      'fcTime': '360',
                                      'fcWindSpeed': '7'},
                                      {'fcAbHumidity': 13.553824377484998,
                                      'fcDate': '2014-7-23Z',
                                      'fcDateTime': '2014-07-23T09:00:00.000Z',
                                      'fcDewPoint': 16.1930610342096,
                                      'fcHumidity': '74',
                                      'fcRainPC': '2',
                                      'fcTemp': '21',
                                      'fcTempFeel': '20',
                                      'fcTime': '540',
                                      'fcWindSpeed': '9'},
                                      {'fcAbHumidity': 12.66408723124527,
                                      'fcDate': '2014-7-23Z',
                                      'fcDateTime': '2014-07-23T12:00:00.000Z',
                                      'fcDewPoint': 15.343305275972321,
                                      'fcHumidity': '55',
                                      'fcRainPC': '7',
                                      'fcTemp': '25',
                                      'fcTempFeel': '24',
                                      'fcTime': '720',
                                      'fcWindSpeed': '11'},
                                      {'fcAbHumidity': 9.985376988776373,
                                      'fcDate': '2014-7-23Z',
                                      'fcDateTime': '2014-07-23T15:00:00.000Z',
                                      'fcDewPoint': 11.745546503538549,
                                      'fcHumidity': '41',
                                      'fcRainPC': '6',
                                      'fcTemp': '26',
                                      'fcTempFeel': '23',
                                      'fcTime': '900',
                                      'fcWindSpeed': '11'},
                                      {'fcAbHumidity': 10.009478293524857,
                                      'fcDate': '2014-7-23Z',
                                      'fcDateTime': '2014-07-23T18:00:00.000Z',
                                      'fcDewPoint': 11.680493637292988,
                                      'fcHumidity': '46',
                                      'fcRainPC': '4',
                                      'fcTemp': '24',
                                      'fcTempFeel': '21',
                                      'fcTime': '1080',
                                      'fcWindSpeed': '11'},
                                      {'fcAbHumidity': 10.366909490577095,
                                      'fcDate': '2014-7-23Z',
                                      'fcDateTime': '2014-07-23T21:00:00.000Z',
                                      'fcDewPoint': 12.006807823728433,
                                      'fcHumidity': '60',
                                      'fcRainPC': '4',
                                      'fcTemp': '20',
                                      'fcTempFeel': '18',
                                      'fcTime': '1260',
                                      'fcWindSpeed': '9'},
                                      {'fcAbHumidity': 10.703577226049914,
                                      'fcDate': '2014-7-23Z',
                                      'fcDateTime': '2014-07-23T23:59:00.000Z',
                                      'fcDewPoint': 12.336069312589673,
                                      'fcHumidity': '74',
                                      'fcRainPC': '0',
                                      'fcTemp': '17',
                                      'fcTempFeel': '16',
                                      'fcTime': '1439',
                                      'fcWindSpeed': '9'}]},
                       {'fcDate': '2014-7-24Z',
                       'forecasts': [{'fcAbHumidity': 12.583935387383006,
                                      'fcDate': '2014-7-24Z',
                                      'fcDateTime': '2014-07-24T06:00:00.000Z',
                                      'fcDewPoint': 14.821957382304875,
                                      'fcHumidity': '87',
                                      'fcRainPC': '1',
                                      'fcTemp': '17',
                                      'fcTempFeel': '16',
                                      'fcTime': '360',
                                      'fcWindSpeed': '7'},
                                      {'fcAbHumidity': 13.97326069057926,
                                      'fcDate': '2014-7-24Z',
                                      'fcDateTime': '2014-07-24T09:00:00.000Z',
                                      'fcDewPoint': 16.72504387841422,
                                      'fcHumidity': '72',
                                      'fcRainPC': '5',
                                      'fcTemp': '22',
                                      'fcTempFeel': '20',
                                      'fcTime': '540',
                                      'fcWindSpeed': '9'},
                                      {'fcAbHumidity': 11.690197450274777,
                                      'fcDate': '2014-7-24Z',
                                      'fcDateTime': '2014-07-24T12:00:00.000Z',
                                      'fcDewPoint': 14.154880441164302,
                                      'fcHumidity': '48',
                                      'fcRainPC': '13',
                                      'fcTemp': '26',
                                      'fcTempFeel': '24',
                                      'fcTime': '720',
                                      'fcWindSpeed': '9'},
                                      {'fcAbHumidity': 10.716014329418545,
                                      'fcDate': '2014-7-24Z',
                                      'fcDateTime': '2014-07-24T15:00:00.000Z',
                                      'fcDewPoint': 12.819330110809535,
                                      'fcHumidity': '44',
                                      'fcRainPC': '34',
                                      'fcTemp': '26',
                                      'fcTempFeel': '24',
                                      'fcTime': '900',
                                      'fcWindSpeed': '9'},
                                      {'fcAbHumidity': 9.791880939317796,
                                      'fcDate': '2014-7-24Z',
                                      'fcDateTime': '2014-07-24T18:00:00.000Z',
                                      'fcDewPoint': 11.348293525802097,
                                      'fcHumidity': '45',
                                      'fcRainPC': '32',
                                      'fcTemp': '24',
                                      'fcTempFeel': '22',
                                      'fcTime': '1080',
                                      'fcWindSpeed': '11'},
                                      {'fcAbHumidity': 10.194127665734143,
                                      'fcDate': '2014-7-24Z',
                                      'fcDateTime': '2014-07-24T21:00:00.000Z',
                                      'fcDewPoint': 11.752048870804478,
                                      'fcHumidity': '59',
                                      'fcRainPC': '5',
                                      'fcTemp': '20',
                                      'fcTempFeel': '18',
                                      'fcTime': '1260',
                                     'fcWindSpeed': '9'}]}]}};


var client = new net.Socket();
client.connect(PORT, HOST, function() {
               
               console.log('CONNECTED TO: ' + HOST + ':' + PORT);
               // Write a message to the socket as soon as the client is connected, the server will receive it as message from the client
               //client.write(data);
               
               var jsonString =JSON.stringify(FFDate);
               
                console.log(jsonString.length);
               
               client.write(jsonString);    //default UTF8
               
               });

// Add a 'data' event handler for the client socket
// data is what the server sent to this socket
client.on('data', function(data) {
          
          console.log('DATA: ' + data);
          // Close the client socket completely
          client.destroy();
          
          });

// Add a 'close' event handler for the client socket
client.on('close', function() {
          console.log('Connection closed');
          });